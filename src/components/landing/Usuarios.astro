---
import Layout from "../../layouts/Layout.astro";
import usuarios from "../../config/usuarios.json";

function renderStars(rating: number): string {
  const fullStars = Math.floor(rating);
  const stars = Array(5).fill("").map((_, i) => (i < fullStars ? '★' : '☆'));
  return stars.join('');
}

---

<Layout title="Usuarios">
  <h1 class="text-center font-bold text-5xl mt-10">Usuarios</h1>
  <div class="grid md:grid-cols-3 gap-4 p-4">
    {
      usuarios.map((usuario) => (
        <div class="bg-slate-800 p-10 rounded-xl">
          <img src="/logo_usuario.png" alt="Feature usuario" class="w-24 h-auto mb-4 rounded-md" />
          <h2 class="text-xl font-bold my-4">{usuario.nombre}</h2>
          <p>{usuario.comentario}</p>
          <p class="mt-4">Calificación: <span class="text-yellow-500">{renderStars(usuario.calificacion)}</span></p>
        </div>
      ))
    }
  </div>
</Layout>

